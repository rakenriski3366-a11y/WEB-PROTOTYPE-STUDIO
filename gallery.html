<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype Studio · Gallery</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Jika ada style tambahan untuk gallery bisa ditambahkan di sini atau di file style.css -->
</head>
<body>
    <div class="cursor"></div>
    <div class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></div>
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <span class="logo-prototype">Prototype</span>
                <span class="logo-studio">Studio</span>
            </a>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html">Home</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="pricing.html">Pricing</a></li>
                <li><a href="booking.html">Booking</a></li>
                <li><a href="testimonials.html">Testimonials</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            <div class="hamburger" id="hamburger"><i class="fas fa-bars"></i></div>
        </div>
    </nav>

    <div data-scroll-container>
        <div data-scroll-section>
            <!-- Page Header -->
            <section class="page-header">
                <div class="container">
                    <h1 data-scroll data-scroll-speed="1">Portfolio <span class="gold">Kami</span></h1>
                    <div class="breadcrumb">
                        <a href="index.html">Home</a> / <span>Gallery</span>
                    </div>
                </div>
            </section>

            <!-- Filter Buttons -->
            <section class="filter-section">
                <div class="container">
                    <div class="filter-container">
                        <button class="filter-btn active" data-filter="all">Semua</button>
                        <button class="filter-btn" data-filter="wedding">Wedding</button>
                        <button class="filter-btn" data-filter="graduation">Graduation</button>
                        <button class="filter-btn" data-filter="family">Family</button>
                        <button class="filter-btn" data-filter="product">Product</button>
                    </div>
                </div>
            </section>

            <!-- Gallery Grid -->
            <section class="gallery-section">
                <div class="container">
                    <div class="gallery-grid" id="galleryGrid">
                        <!-- Akan diisi oleh JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Footer (salin dari index.html) -->
            <footer>
                <div class="container footer-grid">
                    <div class="footer-col">
                        <div class="logo">
                            <span class="logo-prototype">Prototype</span>
                            <span class="logo-studio">Studio</span>
                        </div>
                        <p>Mengabadikan momen berharga dengan sentuhan artistik dan profesional.</p>
                    </div>
                    <div class="footer-col">
                        <h4>Menu</h4>
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="gallery.html">Gallery</a></li>
                            <li><a href="pricing.html">Pricing</a></li>
                            <li><a href="booking.html">Booking</a></li>
                            <li><a href="testimonials.html">Testimonials</a></li>
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>Kontak</h4>
                        <p><i class="fas fa-phone"></i> 0819-7746-0540</p>
                        <p><i class="fas fa-envelope"></i> hello@prototypestudio.id</p>
                        <p><i class="fas fa-map-marker"></i> Jakarta, Indonesia</p>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>© 2026 Prototype Studio. All rights reserved.</p>
                </div>
            </footer>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script>
        // Pastikan script ini berisi kode untuk gallery (filter dan lazy load)
        document.addEventListener('DOMContentLoaded', function() {
            initCursor();
            initThemeToggle();
            initMobileMenu();
            initLocomotive();
            initGSAP();
            initGallery(); // fungsi khusus untuk gallery

            function initCursor() {
                const cursor = document.querySelector('.cursor');
                if (!cursor) return;
                document.addEventListener('mousemove', (e) => {
                    cursor.style.left = e.clientX + 'px';
                    cursor.style.top = e.clientY + 'px';
                });
                document.querySelectorAll('a, button, .filter-btn, .theme-toggle, .gallery-item').forEach(el => {
                    el.addEventListener('mouseenter', () => cursor.classList.add('hover'));
                    el.addEventListener('mouseleave', () => cursor.classList.remove('hover'));
                });
            }

            function initThemeToggle() {
                const toggle = document.getElementById('themeToggle');
                if (!toggle) return;
                const saved = localStorage.getItem('theme');
                if (saved === 'dark') {
                    document.body.classList.add('dark-mode');
                    toggle.innerHTML = '<i class="fas fa-sun"></i>';
                }
                toggle.addEventListener('click', () => {
                    document.body.classList.toggle('dark-mode');
                    const isDark = document.body.classList.contains('dark-mode');
                    localStorage.setItem('theme', isDark ? 'dark' : 'light');
                    toggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
                    if (window.locoScroll) setTimeout(() => window.locoScroll.update(), 100);
                });
            }

            function initMobileMenu() {
                const hamburger = document.getElementById('hamburger');
                const navLinks = document.getElementById('navLinks');
                if (!hamburger || !navLinks) return;
                hamburger.addEventListener('click', () => {
                    navLinks.classList.toggle('active');
                });
                document.querySelectorAll('.nav-links a').forEach(link => {
                    link.addEventListener('click', () => {
                        navLinks.classList.remove('active');
                    });
                });
            }

            function initLocomotive() {
                const scrollEl = document.querySelector('[data-scroll-container]');
                if (!scrollEl) return;
                window.locoScroll = new LocomotiveScroll({
                    el: scrollEl,
                    smooth: true,
                    multiplier: 0.8,
                    lerp: 0.05,
                    smartphone: { smooth: true },
                    tablet: { smooth: true }
                });
                // Update GSAP ScrollTrigger
                window.locoScroll.on('scroll', ScrollTrigger.update);
                ScrollTrigger.scrollerProxy('[data-scroll-container]', {
                    scrollTop(value) {
                        return arguments.length ? window.locoScroll.scrollTo(value, 0, 0) : window.locoScroll.scroll.instance.scroll.y;
                    },
                    getBoundingClientRect() {
                        return { top: 0, left: 0, width: window.innerWidth, height: window.innerHeight };
                    },
                    pinType: document.querySelector('[data-scroll-container]').style.transform ? 'transform' : 'fixed'
                });
                ScrollTrigger.addEventListener('refresh', () => window.locoScroll.update());
                ScrollTrigger.refresh();
            }

            function initGSAP() {
                // Animasi sederhana untuk page header
                gsap.from('.page-header h1', {
                    scrollTrigger: {
                        trigger: '.page-header',
                        scroller: '[data-scroll-container]',
                        start: 'top 80%',
                        end: 'bottom 60%',
                        scrub: 1
                    },
                    opacity: 0,
                    y: 50
                });
            }

            function initGallery() {
                const galleryGrid = document.getElementById('galleryGrid');
                const filterBtns = document.querySelectorAll('.filter-btn');
                if (!galleryGrid) return;

                // Data gambar dengan ukuran thumbnail (w=400) untuk loading ringan
                const images = [
                    { cat: 'wedding', src: 'https://images.pexels.com/photos/2292970/pexels-photo-2292970.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Wedding' },
                    { cat: 'wedding', src: 'https://images.pexels.com/photos/2253870/pexels-photo-2253870.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Wedding' },
                    { cat: 'wedding', src: 'https://images.pexels.com/photos/169198/pexels-photo-169198.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Wedding' },
                    { cat: 'graduation', src: 'https://images.pexels.com/photos/2774556/pexels-photo-2774556.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Graduation' },
                    { cat: 'graduation', src: 'https://images.pexels.com/photos/267885/pexels-photo-267885.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Graduation' },
                    { cat: 'graduation', src: 'https://images.pexels.com/photos/3748221/pexels-photo-3748221.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Graduation' },
                    { cat: 'family', src: 'https://images.pexels.com/photos/3759658/pexels-photo-3759658.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Family' },
                    { cat: 'family', src: 'https://images.pexels.com/photos/3769021/pexels-photo-3769021.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Family' },
                    { cat: 'family', src: 'https://images.pexels.com/photos/3791664/pexels-photo-3791664.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Family' },
                    { cat: 'product', src: 'https://images.pexels.com/photos/3768916/pexels-photo-3768916.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Product' },
                    { cat: 'product', src: 'https://images.pexels.com/photos/3768918/pexels-photo-3768918.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Product' },
                    { cat: 'product', src: 'https://images.pexels.com/photos/4202325/pexels-photo-4202325.jpeg?auto=compress&cs=tinysrgb&w=400', title: 'Product' }
                ];

                function renderGallery(cat = 'all') {
                    galleryGrid.innerHTML = '';
                    const filtered = cat === 'all' ? images : images.filter(img => img.cat === cat);
                    filtered.forEach(img => {
                        const item = document.createElement('div');
                        item.className = 'gallery-item';
                        // Gunakan loading="lazy" untuk performa
                        item.innerHTML = `
                            <img src="${img.src}" alt="${img.title}" loading="lazy">
                            <div class="gallery-overlay"><h3>${img.title}</h3></div>
                        `;
                        galleryGrid.appendChild(item);
                    });

                    // Re-attach cursor hover untuk item baru
                    const cursor = document.querySelector('.cursor');
                    document.querySelectorAll('.gallery-item').forEach(el => {
                        el.addEventListener('mouseenter', () => cursor?.classList.add('hover'));
                        el.addEventListener('mouseleave', () => cursor?.classList.remove('hover'));
                    });
                }

                // Render awal
                renderGallery('all');

                // Filter buttons
                filterBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        filterBtns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        const filter = btn.getAttribute('data-filter');
                        renderGallery(filter);
                        // Update locomotive scroll setelah konten berubah
                        if (window.locoScroll) setTimeout(() => window.locoScroll.update(), 100);
                    });
                });
            }
        });
    </script>
</body>
</html>